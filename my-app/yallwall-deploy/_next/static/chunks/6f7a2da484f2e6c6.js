(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:n,...d},m)=>(0,t.createElement)("svg",{ref:m,...s,width:l,height:l,stroke:e,strokeWidth:i?24*Number(r)/Number(l):r,className:a("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...n.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...o},c)=>(0,t.createElement)(r,{ref:c,iconNode:s,className:a(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...o}));return i.displayName=l(e),i};e.s(["default",()=>i],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},23962,e=>{"use strict";let t=(0,e.i(75254).default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);e.s(["QrCode",()=>t],23962)},41280,e=>{"use strict";var t=e.i(43476),a=e.i(71645),l=e.i(18566),s=e.i(71689),r=e.i(23962),i=e.i(75254);let o=(0,i.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),c=(0,i.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),n=(0,i.default)("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);var d=e.i(17927);let m="#0D1B2A",h="#F5A623";function x(){let i=(0,l.useRouter)(),[x,u]=(0,a.useState)(null),[p,y]=(0,a.useState)(""),[b,f]=(0,a.useState)(!0),[w,g]=(0,a.useState)("mycode"),v=(0,a.useRef)(null),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{k()},[]);let k=async()=>{let t=(0,d.createClientClient)(),{data:{session:a}}=await t.auth.getSession();if(!a)return void i.push("/login");let{data:l}=await t.from("profiles").select("*").eq("id",a.user.id).single();if(l){u(l);let t=await e.A(73378),a=`https://yallwall.app/u/${l.username}`;y(await t.toDataURL(a,{width:400,margin:2,color:{dark:m,light:"#FFFFFF"}}))}f(!1)},N=async()=>{let e={title:`${x?.display_name||x?.username} on YallWall`,text:"Follow me on YallWall!",url:`https://yallwall.app/u/${x?.username}`};navigator.share?await navigator.share(e):(navigator.clipboard.writeText(e.url),alert("Profile link copied to clipboard!"))},C=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});v.current&&(v.current.srcObject=e)}catch(e){console.error("Camera error:",e),alert("Could not access camera. Please ensure you have granted camera permissions.")}};return((0,a.useEffect)(()=>("scan"===w&&C(),()=>{v.current?.srcObject&&v.current.srcObject.getTracks().forEach(e=>e.stop())}),[w]),b)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:m},children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:h}})}):(0,t.jsxs)("div",{className:"min-h-screen",style:{backgroundColor:m},children:[(0,t.jsxs)("div",{className:"sticky top-0 z-50 px-4 py-4 flex items-center gap-4",style:{backgroundColor:m},children:[(0,t.jsx)("button",{onClick:()=>i.push("/concept-cards"),className:"p-2 rounded-full hover:bg-white/10",children:(0,t.jsx)(s.ArrowLeft,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"QR Code"})]}),(0,t.jsx)("div",{className:"px-4 pb-6",children:(0,t.jsxs)("div",{className:"flex rounded-xl p-1 gap-1 bg-white/5",children:[(0,t.jsxs)("button",{onClick:()=>g("mycode"),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-lg text-sm font-medium transition-all",style:{backgroundColor:"mycode"===w?"rgba(245,166,35,0.3)":"transparent",color:"mycode"===w?"white":"rgba(255,255,255,0.5)"},children:[(0,t.jsx)(r.QrCode,{className:"w-4 h-4"}),"My Code"]}),(0,t.jsxs)("button",{onClick:()=>g("scan"),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-lg text-sm font-medium transition-all",style:{backgroundColor:"scan"===w?"rgba(245,166,35,0.3)":"transparent",color:"scan"===w?"white":"rgba(255,255,255,0.5)"},children:[(0,t.jsx)(n,{className:"w-4 h-4"}),"Scan"]})]})}),(0,t.jsx)("div",{className:"px-4 pb-24",children:"mycode"===w?(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"w-full max-w-sm rounded-3xl p-6 mb-6",style:{backgroundColor:"#FAF8F5"},children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center text-2xl font-bold text-white",style:{backgroundColor:m},children:x?.display_name?.[0]||x?.username?.[0]||"U"}),(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:m},children:x?.display_name||x?.username}),(0,t.jsxs)("p",{className:"text-sm opacity-60",style:{color:m},children:["@",x?.username]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-2",children:[x?.is_verified&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold text-white bg-blue-500",children:"âœ“ Verified"}),x?.account_type==="business"&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold text-white bg-purple-500",children:"ðŸ¢ Business"})]})]}),p&&(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 mb-4",children:[(0,t.jsx)("img",{src:p,alt:"QR Code",className:"w-full max-w-[250px] mx-auto"}),(0,t.jsx)("p",{className:"text-center text-xs mt-3 opacity-50",style:{color:m},children:"Scan to view profile"})]}),(0,t.jsxs)("div",{className:"rounded-xl p-3 text-center",style:{backgroundColor:"rgba(13,27,42,0.05)"},children:[(0,t.jsx)("p",{className:"text-xs opacity-50",style:{color:m},children:"Or search username"}),(0,t.jsxs)("p",{className:"text-lg font-bold",style:{color:m},children:["@",x?.username]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold text-white transition-all hover:scale-105 active:scale-95",style:{backgroundColor:h},children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"Share"]}),(0,t.jsxs)("button",{onClick:()=>{if(!p)return;let e=document.createElement("a");e.href=p,e.download=`yallwall-qr-${x?.username}.png`,e.click()},className:"flex items-center gap-2 px-6 py-3 rounded-full font-semibold text-white bg-white/10 hover:bg-white/20 transition-all",children:[(0,t.jsx)(c,{className:"w-5 h-5"}),"Save"]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"relative w-full max-w-sm aspect-square rounded-3xl overflow-hidden bg-black mb-6",children:[(0,t.jsx)("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}),(0,t.jsx)("canvas",{ref:j,className:"hidden"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"w-48 h-48 border-2 border-white/50 rounded-2xl relative",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-yellow-500 -mt-1 -ml-1"}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-yellow-500 -mt-1 -mr-1"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-yellow-500 -mb-1 -ml-1"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-yellow-500 -mb-1 -mr-1"}),(0,t.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-yellow-500/50 animate-pulse"})]})}),(0,t.jsx)("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:(0,t.jsx)("p",{className:"text-white/70 text-sm",children:"Point camera at a QR code"})})]}),(0,t.jsx)("p",{className:"text-white/50 text-sm text-center max-w-xs",children:"Scan a YallWall QR code to quickly view someone's profile and send them YallPoints!"})]})})]})}e.s(["default",()=>x],41280)},73378,e=>{e.v(t=>Promise.all(["static/chunks/0cbbe76af706843a.js"].map(t=>e.l(t))).then(()=>t(73134)))}]);